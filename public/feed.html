<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./public/css/reset.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="./css/feed.css">
    <title>UNI Chat Feed</title>
</head>

<body>
    <!-- Logout Button -->
    <button id="logoutBtn" class="waves-effect waves-light btn">Logout</button>
    <!-- Center everything under logout button-->
    <center>
        <!-- UNI Chat header -->
        <div class="row">
            <!-- <h1 id="feedHeader">U n I Chat</h1> -->
        </div>
        <!-- Links on left -->
        <div class="row">
            <div id="profile" class="col s2">
                <img id="feedLogo" class="z-depth-2" src="./images/unichatlogo-sml.png" alt="UNI Chat logo sm">
                <div>
                    <a id="links" href="#">Profile</a>
                </div>
                <div>
                    <a id="links" href="#">Current</a>
                </div>
                <div>
                    <a id="links" href="#">Top</a>
                </div>
            </div>
            <!-- Input for Posting -->
            <div id="posts" class="col s7">
                <form id="postForm">
                    <div class="row">
                        <div class="input-field col s12 z-depth-2">
                            <textarea id="textarea2" class="materialize-textarea" data-length="150"></textarea>
                            <label for="textarea2">Post Away</label>
                        </div>
                        <br>
                        <button class="btn waves-effect waves-light submitBtn" type="submit" name="action">Post
                            <i class="material-icons right"></i>
                        </button>
                        <!-- Posts Div -->
                    </div>
                    <div class="row">
                        <div class="card large z-depth-2">
                            <div class="card-content">
                                <p>I mean idk I guess you can see your posts here n shit</p>
                            </div>
                            <ul id="tabs-swipe-demo" class="tabs">
                                <li class="tab left col s3"><a href="#swipe-1">Test 1</a></li>
                                <li class="tab right col s3"><a class="active" href="#swipe-2">Test 2</a></li>
                              </ul>
                              <div id="swipe-1" class="col s12">First tab content</div>
                              <div id="swipe-2" class="col s12">Second tab content</div>

                        </div>
                    </div>
                </form>
            </div>
            <!-- Announcements Column -->
            <div id="announcements" class="col s3">
                <!-- Admin Announcements div -->
                <div class="row admin">
                    <div class="row">
                        <div class="col s12 m12">
                            <div class="adminCard card-panel z-depth-2">
                                <h4>Admin Announcements</h4>
                                <span>I am a very simple card. I am good at containing small bits of information. I am convenient
                                    because I require little markup to use effectively. I am similar to what is called a
                                    panel in other frameworks.
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- RA Announcements div -->
                <div class="row ra">
                    <div class="row">
                        <div class="col s12 m12">
                            <div class="raCard card-panel z-depth-2">
                                <h4 id="raHeader" class="anHeader">RA Announcements</h4>
                                <span>I am a very simple card. I am good at containing small bits of information. I am convenient
                                    because I require little markup to use effectively. I am similar to what is called a
                                    panel in other frameworks.
                                </span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </center>

    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>

    <script src="https://apis.google.com/js/client.js?onload=init"></script>
    <script src="./js/feed.js"></script>
    <script>


        $('#postSubmitBTN').on('click', function (event) {
            event.preventDefault();
            // text area turns into var on submit button click
            // do if statement for 150 characters, do not post if more than 150.
            var body = $('#textarea2').val().trim();

            // post that info to sql
            // get user info so we can return user info for foreign keys
            // $.get('/') //get user info
            var post = { body: body, upvotes: 0, downvotes: 0, dorm: 1, type: 'post' }
            console.log(post)
            $.post('/students/posts', post, function (data, status) {
                console.log(status)
            });
        });

    </script>

</body>

</html>