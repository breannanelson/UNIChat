<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./public/css/reset.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/feed.css">
    <title>UNI Chat Feed</title>
</head>

<body>
    <!-- <div class="container"> -->
    <!-- Logout Button -->
    <button id="logoutBtn">Logout</button>
    <!-- Center everything under logout button-->
    <center>
        <!-- UNI Chat header -->
        <div class="row">
            <!-- <h1 id="feedHeader">U n I Chat</h1> -->
        </div>
        <!-- Links on left -->
        <div class="row">
            <div id="profile" class="col s2">
                <a href="devpage.html">
                    <img id="feedLogo" src="./images/unichatlogo-sml.png" alt="UNI Chat logo sm">
                </a>
                
                <h3>Dorm 1</h3>

                <div>
                    <a id="links" href="#">Profile</a>
                </div>
                <div>
                    <a id="links" href="#">Current</a>
                </div>
                <div>
                    <a id="links" href="#">Top</a>
                </div>
                <!-- <div>
                        <a id="links" href="#">Ass</a>
                    </div> -->
            </div>
            <!-- Input for Posting -->
            <div id="posts" class="col s7">
                <form id="postForm">
                    <div class="row">
                        <div class="input-field col s12 z-depth-2">
                            <textarea id="textarea2" class="materialize-textarea" data-length="150"></textarea>
                            <label for="textarea2">Post Away</label>
                        </div>
                        <br>
                        <button id='postSubmitBTN' class="btn waves-effect waves-light submitBtn" type="submit" name="action">Post
                            <i class="material-icons right"></i>
                        </button>
                    </div>

                    <!-- remember to markup your forms properly using labels! -->
                    <!-- <label for="textareaChars">No more than 150 characters</label> -->

                    <!-- <textarea id="textareaChars" maxlength="150"></textarea>

                        <span id="chars">150</span> characters remaining
                        <button disabled="disabled"></button>
                        <input type="submit" id="btn" class="btn waves-effect waves-light" value="Post" /> -->

                </form>
            </div>

            <!-- Announcements Column -->
            <div id="announcements" class="col s3">
                <!-- Admin Announcements div -->
                <div class="row admin">
                    <div class="row">
                        <div class="col s12 m12">
                            <div class="card-panel adminCard">
                                <h4>Admin <i class="fas fa-bullhorn"></i> Announcements</h4>
                                <span>I am a very simple card. I am good at containing small bits of information. I am convenient
                                    because I require little markup to use effectively. I am similar to what is called a
                                    panel in other frameworks.
                                </span>
                            </div>
                        </div>

                    </div>

                </div>
                <!-- RA Announcements div -->
                <div class="row ra">
                    <div class="row">
                        <div class="col s12 m12">
                            <div class="card-panel raCard">
                                <h4 id="raHeader" class="anHeader">RA Announcements</h4>
                                <span>I am a very simple card. I am good at containing small bits of information. I am convenient
                                    because I require little markup to use effectively. I am similar to what is called a
                                    panel in other frameworks.
                                </span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </center>
    <!-- </div> -->

    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>

    <script src="https://apis.google.com/js/client.js?onload=init"></script>
    <script src="./js/feed1.js"></script>
    <script>

     $.get('/students1/posts').then(function (data, status) {
            console.log(data)
            for (var key in data) {
                // use temp key
                // sort by createdAt
                console.log(data[key].createdAt)
                var postBody = data[key].body
                $('#postArea').prepend(
                    "<h3 id='uPost'>" + postBody + "</h3>" +
                    "<p>" + data[key].createdAt + "</p>"
                )
            }
        });
        $.get('/students1/ra/posts').then(function (data, status) {
            console.log(data);
            for (var key in data) {
                var RApost = data[key].body
            }
        })
    </script>


</body>

</html>